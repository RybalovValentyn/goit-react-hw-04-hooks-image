{"version":3,"sources":["components/imageItem/imageitem.module.css","components/modal/modal.module.css","components/imageGalery/imageGallery.module.css","components/button/button.module.css","components/api/api.module.css","components/searchBar/SearchBar.js","components/loader/Loader.js","components/imageItem/Image.Item.js","components/imageGalery/ImageGallery.js","components/button/Button.js","components/api/API.js","components/modal/Modal.js","App.js","index.js","components/searchBar/searchBar.module.css"],"names":["module","exports","Searchbar","searchPics","useState","searchName","setsearchName","className","s","SearchForm","onSubmit","event","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","value","onChange","target","toLowerCase","Preloading","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","Component","ImageItem","image","map","img","ImageGalleryItem","src","webformatURL","alt","tags","ImageGalleryItemImage","id","ImageGallery","images","imageId","onClick","currentSrc","find","hit","Button","loadMore","Status","URL","key","API","imageSearch","status","setStatus","modalImgURL","setmodalImgURL","setimage","setError","page","setpage","useEffect","setTimeout","fetch","then","response","ok","json","Promise","reject","Error","hits","catch","length","message","modalRoot","querySelector","Modal","handleKeyDown","e","code","console","log","props","onClose","handleBackdropClick","nodeName","addEventListener","this","removeEventListener","createPortal","Overlay","largeImageURL","App","searchQuery","setsearchQuery","showmodal","setshowmodal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dc1288d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageitem_ImageGalleryItem__3ySKB\",\"ImageGalleryItemImage\":\"imageitem_ImageGalleryItemImage__3V7FK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1dx4Z\",\"Modal\":\"modal_Modal__2bep5\",\"Button\":\"modal_Button__33Uuc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2b2bg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3R5UC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"api_App__zqH5l\"};","import { useState } from \"react\"\r\nimport s from './searchBar.module.css'\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function Searchbar({searchPics}) {\r\n    const [searchName, setsearchName] = useState('');\r\n\r\n\r\nconst handleSearch = event => {\r\n    event.preventDefault()\r\n\r\nif (searchName.trim() === '') {  \r\n     toast.error(\"enter search immage\")\r\n    return\r\n}\r\n   searchPics(searchName)  //передали в апп pokemonName-имя пропса!!!!!!\r\n   setsearchName(' ')\r\n\r\n}\r\n    return(\r\n<header className={s.Searchbar}>  \r\n<form className={s.SearchForm} onSubmit={handleSearch} >\r\n    <button type=\"submit\"  className={s.SearchFormButton}>\r\n      <span className={s.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={s.SearchFormInput}\r\n      type=\"text\"\r\n      // autocomplete=\"off\"\r\n      // autofocus = \"on\"\r\n      placeholder=\"Search images and photos\"\r\n      value = {searchName}\r\n      onChange = {event=>{setsearchName(event.target.value.toLowerCase())}}\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n\r\n\r\n}\r\n\r\n","import Loader from \"react-loader-spinner\";\r\nimport React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nexport default class Preloading extends Component {\r\n  componentDidMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight ,\r\n       behavior: 'instant',\r\n     });\r\n  }\r\n  //other logic\r\n  render()\r\n\r\n{\r\n    return (\r\n     <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n   \r\n    );\r\n  }\r\n}","import s from './imageitem.module.css'\r\n\r\nexport default function ImageItem({image}) {\r\n  return (\r\n    \r\n<>\r\n    {image.map(img => (\r\n      <li key = {img.id} className={s.ImageGalleryItem}>\r\n       <img src={img.webformatURL} alt={img.tags} className={s.ImageGalleryItemImage} />\r\n      </li>\r\n  \r\n    ))}\r\n</>\r\n\r\n\r\n\r\n)}","import ImageItem from '../imageItem/Image.Item'\r\nimport s from './imageGallery.module.css'\r\n\r\n\r\nexport default function ImageGallery({images,  imageId}) {\r\n\r\nconst handleClick = event => {\r\n     if (event.target.currentSrc) { \r\n   imageId(images.find(hit => hit.webformatURL === event.target.src))\r\n    }}\r\n\r\n   return (    \r\n     <ul className={s.ImageGallery} onClick={handleClick}>\r\n\r\n   <ImageItem  image = {images}/>\r\n\r\n   </ul>   \r\n    \r\n\r\n )\r\n     \r\n    \r\n}\r\n\r\n","import React from \"react\"\r\nimport s from './button.module.css'\r\n\r\nexport default function Button ({loadMore}) {\r\n\r\n  // window.scrollTo({\r\n  //   top: (document.documentElement.scrollHeight ),\r\n  //    behavior: 'smooth',\r\n  //  });\r\n\r\nreturn (\r\n  <button onClick = {loadMore} type='button' className= {s.Button}>Load more</button>\r\n)\r\n\r\n}","import { useState, useEffect} from 'react';\r\nimport Preloading from \"../loader/Loader\"\r\nimport ImageGallery from '../imageGalery/ImageGallery'\r\nimport Button from '../button/Button'\r\n\r\n\r\nconst Status = {\r\n    IDLE: 'idle',\r\n    PENDING: 'pending',\r\n    RESOLVED: 'resolved',\r\n    REJECTED: 'rejected',\r\n    LOADMORE: 'load more'\r\n  };\r\nconst URL = 'https://pixabay.com/api/?q='\r\nconst key = '22353010-e1640ec84a31ac5dbc2cb01be'\r\nexport default function API ({imageSearch, imageId}) {\r\n    const [status, setStatus] = useState(Status.IDLE);\r\n    const [modalImgURL, setmodalImgURL] = useState('');\r\n    const [image, setimage] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const [page, setpage] = useState(1);\r\n\r\n    useEffect(() => {\r\n        if (!imageSearch) {\r\n             return;\r\n        }   \r\n        setpage(1)\r\n        setStatus(Status.PENDING);\r\n\r\n           setTimeout(() =>{\r\n\r\n        fetch(`${URL}${imageSearch}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n            .then(response=>{ if (response.ok) { return response.json()}\r\n             return Promise.reject( new Error (`not name ${imageSearch}`))})\r\n             .then( image => { \r\n                 setimage(image.hits)\r\n                 setStatus(Status.RESOLVED)    \r\n})\r\n    .catch(setError( Status.REJECTED))\r\nsetStatus(Status.IDLE); },1000)\r\n      }, [imageSearch]);\r\n    \r\n\r\n\r\n      useEffect(() => {\r\n          if (modalImgURL) {\r\n            imageId(modalImgURL)  \r\n          }\r\n             },[modalImgURL])\r\n\r\n\r\n\r\n     useEffect(() => {\r\n        if (!imageSearch) {\r\n            return;\r\n       }\r\n        if ( page === 1) {\r\n                return;\r\n                  }                       \r\n            setTimeout(() =>{\r\n        \r\n                fetch(`${URL}${imageSearch}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n                    .then(response=>{ if (response.ok) { return response.json()}\r\n                     return Promise.reject( new Error (`not name ${imageSearch}`))})\r\n                     .then( image => {                       \r\n                setimage(img => [...img, ...image.hits] ) \r\n                    setStatus(Status.RESOLVED) \r\n                       \r\n    window.scrollTo({\r\n        top: (document.documentElement.scrollHeight ),\r\n         behavior: 'smooth',\r\n       });\r\n   \r\n        })\r\n            .catch(setError( Status.REJECTED))\r\n\r\n        setStatus(Status.IDLE);\r\n\r\n            },1000)\r\n            \r\n              }, [page]);\r\n\r\n    if (status === Status.IDLE) {\r\n        return <></>\r\n    }\r\n    if (status === Status.PENDING ?? image) {\r\n        return <Preloading />\r\n        \r\n    }\r\n    \r\n    if (status === Status.RESOLVED ) {\r\n       return(       \r\n           <>    \r\n     <ImageGallery images={image} imageId ={(imageId)=>setmodalImgURL(imageId)} status={status}/ >\r\n                  \r\n      {status === Status.PENDING && <Preloading />}\r\n    {image.length >= 12 && <Button loadMore= {()=>setpage(page => page +1 )}/>}\r\n    </>\r\n\r\n    \r\n     )\r\n    }\r\n\r\n    if (status === Status.REJECTED) {\r\n        return <p>{error.message }{imageSearch} нету</p>\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './modal.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  \r\n  componentDidMount() {\r\n    // console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n    window.addEventListener('click', this.handleBackdropClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log('Modal componentWillUnmount');\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n    window.removeEventListener('click', this.handleBackdropClick);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n\r\n    if (event.target.nodeName === 'DIV') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay}>\r\n      <div className={s.Modal}>\r\n        <img src={this.props.imageId.largeImageURL} alt={this.props.imageId.tags} />\r\n      </div>\r\n    </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\n","import { useState } from \"react\"\nimport Searchbar from \"./components/searchBar/SearchBar\";\nimport { ToastContainer } from 'react-toastify';\nimport API from \"./components/api/API\";\nimport Modal from \"../src/components/modal/Modal\";\nimport s from './components/api/api.module.css';\n\nexport default function App() {\n  const [searchQuery, setsearchQuery] = useState('');\n  const [showmodal, setshowmodal] = useState(false);\n  const [modalImgURL, setmodalImgURL] = useState('')\n\nconst toggleModal = (imageId) => {\n  setmodalImgURL(imageId)\n  console.log(imageId);\n  setshowmodal(true)\n};\n\n\n\n  return (\n<div className={s.App}>\n<Searchbar searchPics = {searchPics=>setsearchQuery(searchPics)}/>\n<ToastContainer autoClose={3000} />\n<API imageSearch={searchQuery} imageId ={toggleModal} />\n  {showmodal && (\n      <Modal onClose={()=>setshowmodal(!showmodal)} imageId={modalImgURL}/>)} \n\n</div>\n  );\n\n\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__3OH-7\",\"SearchForm\":\"searchBar_SearchForm__2lTx7\",\"SearchFormButton\":\"searchBar_SearchFormButton__q1rNi\",\"SearchFormButtonLabel\":\"searchBar_SearchFormButtonLabel__1XXEo\",\"SearchFormInput\":\"searchBar_SearchFormInput__FEetX\"};"],"sourceRoot":""}